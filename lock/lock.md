# 同步相关

# 如何实现同步
## 1.synchronize
    1.同步代码块
    2.同步方法
        对于非静态的方法，锁的对象是this,静态方法锁对象是class对象。

### 实现方式
    通过javap查看字节码，代码块是通过monitor enter,monitor exit实现的。
    对于同步方法是在方法中有一个ACC_SYNC的标记。两者的实现都是一样的。
    锁状态的信息，都保存在对象头中。
    对锁的升级是（无锁）->偏向锁->轻量级锁->重量级锁
    在底层实现互斥是通过一个 wait set,当有多个线程竞争锁时，没有得到锁的对象回加到这个set中。
    锁信息的查看可以通过jol这个库查看。
    


## 2.lock
    实现公平锁和非公平锁
    读写锁
    可中断
    可重入
